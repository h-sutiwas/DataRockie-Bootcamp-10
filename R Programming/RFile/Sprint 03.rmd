---
title: "Sprint 03"
author: "Sutiwas"
date: "2024-06-24"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

# R101 / Getting Started with R

------------------------------------------------------------------------

## **EP02 - Create and Remove Variables**

Create my R variables and removing said variables.

```{r : EP02 - Create and Remove Variables}
## create variables
income <- 50000
expense <- 30000
saving <- income - expense

## remove variable
rm(saving)

```

## **EP03 - Compare Values**

### **Comparison Operators**

‡πÄ‡∏£‡∏≤‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô comparison operators ‡∏ï‡πà‡∏≠‡πÑ‡∏õ‡∏ô‡∏µ‡πâ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö‡∏™‡∏≠‡∏á‡∏ù‡∏±‡πà‡∏á‡∏Ç‡∏≠‡∏á‡∏™‡∏°‡∏Å‡∏≤‡∏£‡πÑ‡∏î‡πâ‡πÉ‡∏ô R

-   `>`

-   `>=`

-   `<`

-   `<=`

-   `==` (equal)

-   `!=` (not equal)

üåµ Note - ‡πÄ‡∏£‡∏≤‡πÉ‡∏ä‡πâ‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏´‡∏°‡∏≤‡∏¢ **double** equal signs `==` ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö‡∏™‡∏≠‡∏á‡∏ù‡∏±‡πà‡∏á‡∏Ç‡∏≠‡∏á‡∏™‡∏°‡∏Å‡∏≤‡∏£ ‡∏ñ‡πâ‡∏≤‡πÉ‡∏ä‡πâ **single** equal sign ‡πÄ‡∏ä‡πà‡∏ô `x = 5` ‡∏à‡∏∞‡πÄ‡∏õ‡πá‡∏ô‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏®‡∏ï‡∏±‡∏ß‡πÅ‡∏õ‡∏£ ‡πÄ‡∏û‡∏£‡∏≤‡∏∞‡πÉ‡∏ô R ‡πÄ‡∏£‡∏≤‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ï‡∏±‡∏ß‡πÅ‡∏õ‡∏£‡πÑ‡∏î‡πâ‡∏™‡∏≠‡∏á‡πÅ‡∏ö‡∏ö‡∏Ñ‡∏∑‡∏≠ `<-` ‡∏´‡∏£‡∏∑‡∏≠ `=`

```{r EP03 - Compare Values}
## compare values
1 + 1 == 2
2 * 2 <= 4
5 >= 10
5 - 2 != 3
10 < 2
10 > 2

## compare text and characters
"Hello" == "hello"
"Hello" == "Hello" ### R is case sensitive

```

## EP04 - Data Types

### **Data Types in R**

‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏π‡πâ‡∏û‡∏∑‡πâ‡∏ô‡∏ê‡∏≤‡∏ô‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Å‡∏±‡∏ö data types ‡∏Ñ‡∏∑‡∏≠‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏Ç‡∏±‡πâ‡∏ô‡∏™‡∏∏‡∏î‡∏ï‡∏≠‡∏ô‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡πÇ‡∏õ‡∏£‡πÅ‡∏Å‡∏£‡∏° ‡∏†‡∏≤‡∏©‡∏≤‡∏Ñ‡∏≠‡∏°‡∏û‡∏¥‡∏ß‡πÄ‡∏ï‡∏≠‡∏£‡πå‡∏´‡∏•‡∏≤‡∏¢‡πÜ‡∏†‡∏≤‡∏©‡∏≤‡∏à‡∏∞ strict ‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á **data types** ‡∏°‡∏≤‡∏Å‡πÜ ‡πÉ‡∏ô R ‡∏Å‡πá‡πÄ‡∏ä‡πà‡∏ô‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏Å‡∏±‡∏ô ‡πÇ‡∏î‡∏¢ common data types ‡∏ó‡∏µ‡πà data analyst ‡πÄ‡∏£‡∏≤‡∏ï‡πâ‡∏≠‡∏á‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡πÄ‡∏õ‡πá‡∏ô‡∏õ‡∏£‡∏∞‡∏à‡∏≥‡∏à‡∏∞‡∏°‡∏µ‡∏≠‡∏¢‡∏π‡πà 5 ‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏Ñ‡∏∑‡∏≠

-   `numeric`

-   `character`

-   `logical`

-   `factor` ‡∏≠‡∏±‡∏ô‡∏ô‡∏µ‡πâ‡∏Ñ‡∏∑‡∏≠‡∏ï‡∏±‡∏ß‡πÅ‡∏õ‡∏£ categorical ‡πÉ‡∏ô‡∏ó‡∏≤‡∏á‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥

-   `date`

üåµ R ‡∏°‡∏µ package `lubridate` ‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£ date ‡πÑ‡∏î‡πâ‡∏á‡πà‡∏≤‡∏¢‡∏°‡∏≤‡∏Å

```{r EP04 - Data Types}
## Data Types

### 1. numeric
age <- 32
print(age)
class(age)

### 2. character
my_name <- "Sutiwas Jitsopak"
my_university <- "Chulalongkorn University"
print(my_name)
print(my_university)
class(my_name); class(my_university)

### 3. logical
result <- 1 + 1 == 2
print(result)
class(result)

### 4. factor
animals <- c("Dog", "Cat", "Crocodile", "Bird")
class(animals)

animals <- factor(animals)
class(animals)

### 5. date
time_now <- Sys.time()
class(time_now)

```

## **EP05 - Convert Data Types**

```{r EP05 - Convert Data Types}
## Convert Data Types

## main functions
## as.numeric()
## as.character()
## as.logical()

x <- 100
class(x)

char_x <- as.character(x)
num_x <- as.numeric(x)

## logical: TRUE/FALSE
as.logical(0)
as.logical(1)
as.numeric(0)
as.numeric(1)
```

## EP06 - EP10 (Crucial Data types & Subsetting)

```{r EP06 - EP10 (Crucial Data types & Subsetting)}
## --------------------------------------------------------
## vector

1:10
11:25

## sequence generation
seq(from = 1, to = 100, by = 5)

## help file
help(seq)

## function c
friends <- c("David", "Marry", "Anna", "John", "William")
is_male <- c(TRUE, FALSE, FALSE, TRUE, TRUE)

## --------------------------------------------------------
## matrix

x <- 1:25
length(x)
dim(x) <- c(5,5)

m1 <- matrix(1:25, ncol=5)
m2 <- matrix(1:6, ncol=3, nrow=2, byrow = T)

## Element wise computation
m1 + 100
m2 * 10

## --------------------------------------------------------
## list

my_name <- "Ham"
my_friends <- c("Wan", "Eng", "Sue")
m3 <- matrix(1:25, ncol=5)
r_iscool <- TRUE

my_list <- list(item1 = my_name,
                item2 = my_friends,
                item3 = m3,
                item4 = r_iscool)
my_list$item1
my_list$item2
my_list$item3
my_list$item4

## --------------------------------------------------------
## Data Frames

friends <- c("Wan", "Erik", "Ashley", "Bee", "Toon")

Ages <- c(26, 27, 27, 28, 32)

locations <- c("New York",
               "London",
               "Tokyo",
               "Manchester",
               "New York")

movie_lover <- c(TRUE, TRUE, TRUE, FALSE, FALSE)

df <- data.frame(friends,
           Ages,
           locations,
           movie_lover)

View(df)

## create data frame from list
my_list <- list(friends = friends,
                ages = Ages,
                locations = locations,
                movie_lover = movie_lover)

data.frame(my_list)

## --------------------------------------------------------
## subset

friends[1:3]

friends[c(1, 3, 5)]

friends[4:5]

ages <- c(26, 27, 27, 28, 32)

View(df)
```

------------------------------------------------------------------------

# R102 / Control Flow and Function

## **Control Flow**

Control Flow ‡∏Ñ‡∏∑‡∏≠‡∏´‡∏ô‡∏∂‡πà‡∏á‡πÉ‡∏ô building blocks ‡∏ó‡∏µ‡πà‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏Ç‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡πÇ‡∏õ‡∏£‡πÅ‡∏Å‡∏£‡∏° ‡πÉ‡∏ô R ‡∏°‡∏µ control flow ‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏≠‡∏¢‡∏π‡πà‡∏™‡∏≤‡∏°‡∏ï‡∏±‡∏ß‡∏Ñ‡∏∑‡∏≠

1.  `if`

2.  `for`

3.  `while`

Note - ‡πÄ‡∏ß‡∏•‡∏≤‡πÄ‡∏£‡∏≤‡∏û‡∏¥‡∏°‡∏û‡πå keyword `if` `for` `while` ‡πÉ‡∏ô script ‡∏à‡∏∞‡∏°‡∏µ highlight syntax ‡πÉ‡∏´‡πâ‡πÄ‡∏£‡∏≤‡∏î‡πâ‡∏ß‡∏¢

üåµ ‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏Ç‡∏≠‡∏á **Control Flow** ‡∏Ñ‡∏∑‡∏≠‡∏Å‡∏≤‡∏£‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡∏û‡∏§‡∏ï‡∏¥‡∏Å‡∏£‡∏£‡∏°‡∏Ç‡∏≠‡∏á‡πÇ‡∏õ‡∏£‡πÅ‡∏Å‡∏£‡∏°‡∏ó‡∏µ‡πà‡πÄ‡∏£‡∏≤‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÄ‡∏ä‡πà‡∏ô

`score <- 85`

`if (score >= 80) { print("passed") } else { print("failed") }`

‡∏ñ‡πâ‡∏≤‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏™‡∏≠‡∏ö‡∏°‡∏≤‡∏Å‡∏Å‡∏ß‡πà‡∏≤‡∏´‡∏£‡∏∑‡∏≠‡πÄ‡∏ó‡πà‡∏≤‡∏Å‡∏±‡∏ö 80 ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô ‡∏™‡∏≠‡∏ö‡∏ú‡πà‡∏≤‡∏ô "passed" ‡πÅ‡∏ï‡πà‡∏ñ‡πâ‡∏≤‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡πÑ‡∏°‡πà‡∏ñ‡∏∂‡∏á‡πÄ‡∏Å‡∏ì‡∏ë‡πå‡∏Ñ‡∏∑‡∏≠‡∏™‡∏≠‡∏ö‡∏ï‡∏Å "failed"

‡πÄ‡∏£‡∏≤‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô `if` ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡πÄ‡∏™‡πâ‡∏ô‡∏ó‡∏≤‡∏á (path) ‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏Ç‡∏≠‡∏á‡πÇ‡∏õ‡∏£‡πÅ‡∏Å‡∏£‡∏°

‡∏´‡∏£‡∏∑‡∏≠‡∏ñ‡πâ‡∏≤‡πÄ‡∏£‡∏≤‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô `for` ‡πÄ‡∏£‡∏≤‡∏à‡∏∞‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ loop ‡∏ï‡∏±‡∏ß‡πÅ‡∏õ‡∏£‡∏´‡∏£‡∏∑‡∏≠ object ‡∏ó‡∏µ‡πà‡πÄ‡∏£‡∏≤‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏®‡πÑ‡∏ß‡πâ‡πÉ‡∏ô R ‡πÑ‡∏î‡πâ ‡πÄ‡∏ä‡πà‡∏ô ‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡∏î‡πÄ‡∏Å‡∏£‡∏î‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô 5 ‡∏Ñ‡∏ô‡πÉ‡∏ô‡∏ï‡∏±‡∏ß‡πÅ‡∏õ‡∏£ `scores`

![](images/clipboard-2127693642.jpeg)

## EP01 - IF

üåµ ‡∏Å‡∏≤‡∏£‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡πÄ‡∏á‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏Ç IF ‡πÄ‡∏õ‡πá‡∏ô‡∏û‡∏∑‡πâ‡∏ô‡∏ê‡∏≤‡∏ô‡∏Ç‡∏≠‡∏á computer program ‡∏ó‡∏∏‡∏Å‡∏†‡∏≤‡∏©‡∏≤‡∏à‡∏∞‡∏°‡∏µ‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡∏Å‡∏±‡∏ô‡πÄ‡∏•‡∏¢ ‡∏Ñ‡∏∑‡∏≠ condition, if TRUE, else FALSE

```{r EP01 - IF}
## control flow
## if else statement

score = readline( prompt = "Enter your score: ")
score = as.numeric(score);

if (score >= 80){
  print("Passed")
} else {
  print("Failed")
}
```

## **EP02 - ifelse()**

üåµ `ifelse()` syntax ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡∏Å‡∏±‡∏ö `=IF()` ‡πÉ‡∏ô Google Sheets/ Excel

`ifelse(condition, TRUE, FALSE)`

```{r EP02 - ifelse()}
ifelse(score >= 90, "Passed", ifelse(
  score >= 50, "OK", "Enroll Again"
))
```

## **EP03 - FOR**

```{r EP03 - FOR}
## for loop
mat <- matrix(rnorm(100), ncol = 5)

par(mfrow = c(2,3))

for (i in 1:5) {
  hist(mat[, i], main = paste("Column", i), xlab = "Values", col = "lightblue")
}
```

## **EP04 - WHILE**

üåµ Note - ‡∏≠‡∏¢‡πà‡∏≤‡∏•‡∏∑‡∏°‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ó‡∏ï‡∏±‡∏ß‡πÅ‡∏õ‡∏£¬†`count`¬†‡∏ó‡∏µ‡πà‡πÄ‡∏£‡∏≤‡πÉ‡∏ä‡πâ‡πÉ‡∏ô¬†`while`¬†loop ‡πÑ‡∏°‡πà‡∏á‡∏±‡πâ‡∏ô‡πÄ‡∏£‡∏≤‡∏à‡∏∞‡∏ï‡∏¥‡∏î‡πÉ‡∏ô¬†`infinite loop`

```{r EP04 - WHILE}
## while loop
while (score <= 90) {
  score <- score + 1
}
```

## **EP05 - Function**

```{r EP05 - Function}
## function: input -> f() -> output

x <- c(10, 20, 55, 77, 100)
sum(x)
mean(x)
sd(x)
```

## **EP06 - Create Our First Function**

üåµ R ‡πÉ‡∏ä‡πâ keyword¬†`function`¬†‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏® function ‡πÉ‡∏´‡∏°‡πà

```{r EP06 - Create Our First Function}

name_age <- function(){
  name = readline(prompt = "Enter your name: ")
  age = readline(prompt = "Enter your age: ")
  age = as.integer(age)
  print( paste("Hello", name, "!! Your age is", age) )
}

name_age()
```

## **EP07 - Function Parameter & Argument**

üåµ ‡∏Ñ‡∏≥‡∏®‡∏±‡∏û‡∏ó‡πå‡∏ó‡∏µ‡πà‡πÄ‡∏£‡∏≤‡πÉ‡∏ä‡πâ‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô `function` ‡∏°‡∏µ‡∏≠‡∏¢‡∏π‡πà‡∏™‡∏≠‡∏á‡∏Ñ‡∏≥ (concept ‡∏ô‡∏µ‡πâ‡πÉ‡∏ä‡πâ‡πÑ‡∏î‡πâ‡∏Å‡∏±‡∏ö‡∏ó‡∏∏‡∏Å‡∏†‡∏≤‡∏©‡∏≤‡πÄ‡∏•‡∏¢)

-   `parameter`

-   `argument`

**Parameter** ‡∏Ñ‡∏∑‡∏≠‡∏ä‡∏∑‡πà‡∏≠ named input ‡∏ó‡∏µ‡πà‡πÄ‡∏£‡∏≤‡πÉ‡∏™‡πà‡πÉ‡∏ô function ‡∏™‡πà‡∏ß‡∏ô **Argument** ‡∏Ñ‡∏∑‡∏≠ actual value ‡∏ó‡∏µ‡πà‡πÄ‡∏£‡∏≤‡πÉ‡∏™‡πà‡πÑ‡∏õ‡πÉ‡∏ô parameter ‡∏ô‡∏±‡πâ‡∏ô‡πÜ‡∏ï‡∏≠‡∏ô‡πÄ‡∏£‡∏≤‡∏£‡∏±‡∏ô function

‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô parameter ‡πÅ‡∏•‡∏∞ argument ‡πÉ‡∏ô R

`greeting <- function( name = "Toy" ) { print(paste("Hi!", name)) }`

-   name ‡∏Ñ‡∏∑‡∏≠ parameter

-   "Toy" ‡∏Ñ‡∏∑‡∏≠ argument

```{r EP07 - Function Parameter & Argument}
greeting_name <- function(name = "Ham", age = 22) {
  print(paste("Hello!", name))
  print(paste("Age:", age))
}

greeting_name()
```

## **EP08 - Function Kata**

#### Practice Practice Practice

üåµ ‡∏°‡∏≤‡∏•‡∏≠‡∏á‡∏ù‡∏∂‡∏Å‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô 3 functions ‡πÉ‡∏ô R

-   `add_two_nums()`

-   `cube()`

-   `count_ball()`

```{r EP08 - Function Kata}
# add_two_nums() function
add_two_nums <- function(val1, val2) {
  val1 + val2
}

# cube() function
cube <- function(base, power=3) {
  return(base ** power)
}

# count_ball() function
balls <- c("red", "red", "blue", "green",
           "green", "green", "green", "red")

count_ball <- function(balls, color) {
  sum(balls == color)
}

count_ball(balls, "red")
count_ball(balls, "blue")
count_ball(balls, "green")
```

## **EP09 - Looping over a dataframe**

### **Refactoring Your Code**

üåµ Refactor ‡∏Ñ‡∏∑‡∏≠‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏±‡∏ö‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö‡∏Å‡∏≤‡∏£‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡πÇ‡∏Ñ‡πâ‡∏î‡∏Ç‡∏≠‡∏á‡πÄ‡∏£‡∏≤ (re-structuring code) ‡πÉ‡∏´‡πâ‡∏≠‡πà‡∏≤‡∏ô‡∏á‡πà‡∏≤‡∏¢‡∏Ç‡∏∂‡πâ‡∏ô ‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•‡∏î‡∏µ‡∏Ç‡∏∂‡πâ‡∏ô ‡∏´‡∏£‡∏∑‡∏≠‡∏£‡∏±‡∏ô‡πÑ‡∏î‡πâ‡πÄ‡∏£‡πá‡∏ß‡∏Ç‡∏∂‡πâ‡∏ô ‡πÅ‡∏ï‡πà‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡∏¢‡∏±‡∏á‡∏≠‡∏≠‡∏Å‡∏°‡∏≤‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡πÄ‡∏î‡∏¥‡∏°

**Tip** - ‡πÄ‡∏ß‡∏•‡∏≤‡πÄ‡∏£‡∏≤‡∏≠‡∏¢‡∏≤‡∏Å‡∏à‡∏∞‡∏î‡∏∂‡∏á‡∏Ñ‡∏≠‡∏•‡∏±‡∏°‡∏ô‡πå‡∏à‡∏≤‡∏Å dataframe ‡πÉ‡∏ô R ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡πÑ‡∏î‡πâ‡∏´‡∏•‡∏≤‡∏¢‡πÅ‡∏ö‡∏ö ‡∏™‡∏°‡∏°‡∏ï‡∏¥‡πÄ‡∏£‡∏≤‡∏≠‡∏¢‡∏≤‡∏Å‡∏à‡∏∞‡∏î‡∏∂‡∏á‡∏Ñ‡∏≠‡∏•‡∏±‡∏°‡∏ô‡πå‡∏ä‡∏∑‡πà‡∏≠ `"col_name"`, column index = 5 ‡πÉ‡∏ô dataframe ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á syntax ‡∏ó‡∏±‡πâ‡∏á‡∏™‡∏≤‡∏°‡πÅ‡∏ö‡∏ö‡∏ô‡∏µ‡πâ‡πÑ‡∏î‡πâ‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡∏Å‡∏±‡∏ô‡πÄ‡∏•‡∏¢

-   `data$col_name`

-   `data[["col_name"]]`

-   `data[[5]]`

üíæ ‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ `[]` ‡∏Å‡∏±‡∏ö `[[]]` ‡πÄ‡∏ß‡∏•‡∏≤‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏≠‡∏≠‡∏Å‡∏°‡∏≤‡∏à‡∏≤‡∏Å dataframe ‡∏à‡∏∞‡∏ï‡πà‡∏≤‡∏á‡∏Å‡∏±‡∏ô‡∏ó‡∏µ‡πà data type ‡∏ó‡∏µ‡πà‡∏°‡∏±‡∏ô return ‡∏Å‡∏•‡∏±‡∏ö‡∏°‡∏≤

```{r EP09 - Looping over a dataframe}
# refactor our code for more readability
cal_mean_by_col <- function(df) {
  col_names <- names(df)
  
  # we use [[]] to extract column as vector
  for (i in 1:ncol(df)) {
    avg_col <- mean(df[[i]]) 
    print(paste(col_names[i], ":", avg_col))
  }
}

# test our code with mtcars
cal_mean_by_col(mtcars)
```

## **EP10 - apply() function**

üåµ ‡πÉ‡∏ô R ‡∏°‡∏µ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô¬†`apply()`¬†‡∏ó‡∏µ‡πà‡πÄ‡∏£‡∏≤‡πÉ‡∏ä‡πâ‡πÅ‡∏ó‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô¬†`loop`¬†‡πÑ‡∏î‡πâ‡∏ó‡∏±‡πâ‡∏á columns, rows ‡∏™‡∏∞‡∏î‡∏ß‡∏Å‡∏°‡∏≤‡∏Å

```{r EP10 - apply() function}
# apply function: MARGIN = (1: By rows, 2: By columns)
avg_by_row_mtcars <- apply(mtcars, MARGIN = 1, mean)
avg_by_row_mtcars[1:10]
```

------------------------------------------------------------------------

# R103 / Working with Data

### **Working with Data in R**

R ‡∏Ñ‡∏∑‡∏≠‡∏†‡∏≤‡∏©‡∏≤‡∏ó‡∏µ‡πà‡πÄ‡∏£‡∏≤‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡∏ß‡πà‡∏≤ fast data crunching ‡∏ó‡∏µ‡πà‡∏ñ‡∏π‡∏Å‡∏û‡∏±‡∏í‡∏ô‡∏≤‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏á‡∏≤‡∏ô data ‡πÇ‡∏î‡∏¢‡πÄ‡∏â‡∏û‡∏≤‡∏∞

‡∏ó‡∏≥‡πÑ‡∏°‡∏ñ‡∏∂‡∏á‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏†‡∏≤‡∏©‡∏≤ R

-   [**Google**](https://grow.google/certificates/data-analytics/#?modal_active=none) Data Analytics ‡∏ö‡∏ô Coursera ‡∏Å‡πá‡∏™‡∏≠‡∏ô R ‡πÄ‡∏õ‡πá‡∏ô‡∏´‡∏•‡∏±‡∏Å

-   [**Harvard**](https://www.edx.org/professional-certificate/harvardx-data-science) Data Science Certificate ‡∏™‡∏≠‡∏ô R ‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÄ‡∏î‡∏µ‡∏¢‡∏ß 100%

-   [**IBM**](https://www.coursera.org/professional-certificates/ibm-data-analyst-r-excel) ‡∏Å‡πá‡∏°‡∏µ‡∏™‡∏≠‡∏ô Data Science with R ‡∏≠‡∏¢‡∏π‡πà‡∏ö‡∏ô Coursera

-   [**Udacity**](https://www.udacity.com/course/programming-for-data-science-nanodegree-with-R--nd118) ‡∏Å‡πá‡∏°‡∏µ‡∏Ñ‡∏≠‡∏£‡πå‡∏™ nanodegree Programming for data science with R

‡∏à‡∏≤‡∏Å‡∏ú‡∏•‡∏™‡∏≥‡∏£‡∏ß‡∏à‡∏Ç‡∏≠‡∏á‡∏´‡∏•‡∏≤‡∏¢‡πÜ‡πÄ‡∏ß‡πá‡∏ö‡πÑ‡∏ã‡∏ï‡πå (Kaggle, DataCamp) R ‡∏Ñ‡∏∑‡∏≠‡∏´‡∏ô‡∏∂‡πà‡∏á‡πÉ‡∏ô‡∏™‡∏≤‡∏°‡∏†‡∏≤‡∏©‡∏≤‡∏ó‡∏µ‡πà data analyst ‡∏ï‡πâ‡∏≠‡∏á‡∏£‡∏π‡πâ‡∏à‡∏±‡∏Å‡πÅ‡∏•‡∏∞‡πÉ‡∏ä‡πâ‡πÄ‡∏õ‡πá‡∏ô [R, Python, SQL] ‡πÅ‡∏•‡∏∞‡πÄ‡∏£‡∏≤‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÉ‡∏ä‡πâ R ‡∏≠‡πà‡∏≤‡∏ô‡πÑ‡∏ü‡∏•‡πå‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÑ‡∏î‡πâ‡∏´‡∏•‡∏≤‡∏¢‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÄ‡∏ä‡πà‡∏ô

-   `.txt`

-   `.csv`

-   `.xlsx`

-   `google sheets`

-   `.json`

-   `.db` (sqlite database)

-   SQL databases ‡∏ï‡∏±‡∏ß‡∏´‡∏•‡∏±‡∏Å‡πÜ‡πÑ‡∏î‡πâ‡∏´‡∏°‡∏î‡πÄ‡∏•‡∏¢ PostgreSQL, MySQL, MS SQL, BigQuery, AWS RedShift

## R Packages for Working with Data

```{r R Packages for Working with Data}
# install packages
install.packages(c("readr", 
                   "readxl", 
                   "googlesheets4",
                   "jsonlite",
                   "dplyr",
                   "sqldf",
                   "RSQLite"))

# load library
library(readr)
library(readxl)
library(googlesheets4)
library(jsonlite)
library(dplyr)
library(sqldf)
library(RSQLite)
```

## **EP01 - Text File**

üåµ¬†`read_table()`¬†‡∏≠‡πà‡∏≤‡∏ô‡πÑ‡∏ü‡∏•‡πå .txt ‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ whitespace ‡πÄ‡∏õ‡πá‡∏ô‡∏ï‡∏±‡∏ß‡∏Ñ‡∏±‡πà‡∏ô‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á‡∏Ñ‡∏≠‡∏•‡∏±‡∏°‡∏ô‡πå (delimiter)

```{r EP01 - Text File}
# read text file
student1 <- read_table("C:/Online Learning/DataRockie Bootcamp/DataRockie Bootcamp 10th/R Programming/data/student.txt")
student1
```

## EP02 - CSV

üåµ¬†`read_csv()`¬†‡πÉ‡∏ä‡πâ‡∏≠‡πà‡∏≤‡∏ô‡πÑ‡∏ü‡∏•‡πå .csv comma separated values ‡πÄ‡∏õ‡πá‡∏ô common data format ‡∏ó‡∏µ‡πà data analyst ‡πÄ‡∏£‡∏≤‡πÉ‡∏ä‡πâ‡∏Å‡∏±‡∏ô‡πÄ‡∏õ‡πá‡∏ô‡∏õ‡∏£‡∏∞‡∏à‡∏≥

```{r EP02 - CSV}
# read csv file
student2 <- read_csv("C:/Online Learning/DataRockie Bootcamp/DataRockie Bootcamp 10th/R Programming/data/student.csv")
student2
```

## EP03 - Excel File

üåµ¬†`read_excel()`¬†‡πÉ‡∏ä‡πâ‡∏≠‡πà‡∏≤‡∏ô‡πÑ‡∏ü‡∏•‡πå Excel .xlsx ‡∏≠‡πà‡∏≤‡∏ô‡∏ó‡∏µ‡∏•‡∏∞ sheet ‡πÑ‡∏î‡πâ

```{r EP03 - Excel File}
# read excel file
result <- list()

for (i in 1:3) {
  result[[i]] <- read_excel("C:/Online Learning/DataRockie Bootcamp/DataRockie Bootcamp 10th/R Programming/data/students.xlsx", sheet=i)
}

result[[1]]
result[[2]]
result[[3]]
```

## EP04 - Google Sheets

üåµ¬†`read_sheet()`¬†‡πÉ‡∏ä‡πâ‡∏≠‡πà‡∏≤‡∏ô data ‡∏à‡∏≤‡∏Å Google Sheets ‡∏ñ‡πâ‡∏≤‡πÄ‡∏õ‡πá‡∏ô public link ‡∏Å‡πà‡∏≠‡∏ô‡πÉ‡∏ä‡πâ‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á read_sheet() ‡πÉ‡∏´‡πâ‡πÄ‡∏£‡∏≤‡∏£‡∏±‡∏ô‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á¬†`gs4_deauth()`¬†‡∏Å‡πà‡∏≠‡∏ô

```{r EP04 - Google Sheets}
library(googlesheets4)

url <- "https://docs.google.com/spreadsheets/d/1y5JuaUhNrdRzf_hJrdZjZHARK6kHxvoVR5U4IJuGEyQ/edit?usp=sharing"
gs4_deauth()

read_sheet(url, sheet = "Example Data")
```

## EP05 - JSON

üåµ `fromJSON()` ‡πÉ‡∏ä‡πâ‡∏≠‡πà‡∏≤‡∏ô‡πÑ‡∏ü‡∏•‡πå .json ‡πÄ‡∏Ç‡πâ‡∏≤‡∏°‡∏≤‡πÄ‡∏õ‡πá‡∏ô list ‡πÉ‡∏ô R ‡πÅ‡∏•‡πâ‡∏ß‡∏Ñ‡πà‡∏≠‡∏¢‡πÉ‡∏ä‡πâ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô `data.frame()` ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô list -\> data frame ‡πÑ‡∏î‡πâ

> JSON = JavaScript Object Notation

`Key` ‡πÉ‡∏ô JSON ‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡πÉ‡∏ô double quote ‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô ‡∏ñ‡πâ‡∏≤‡πÉ‡∏ä‡πâ single quote ‡∏à‡∏∞ error

```{r EP05 - JSON}
# read JSON file
library(jsonlite)

bp <- data.frame(fromJSON("C:/Online Learning/DataRockie Bootcamp/DataRockie Bootcamp 10th/R Programming/data/blackpink.json"))

View(bp)
```

## **EP06 - Bind Rows (UNION ALL)**

üåµ `bind_rows()` ‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡πà‡∏≤‡∏Å‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô `UNION ALL` ‡πÉ‡∏ô SQL

```{r EP06 - Bind Rows (UNION ALL)}
# Bind Rows (UNION ALL in  SQL)
library(dplyr)
library(readxl)

## read excel file
econ <- read_excel("C:/Online Learning/DataRockie Bootcamp/DataRockie Bootcamp 10th/R Programming/data/students.xlsx", sheet = 1)
business <- read_excel("C:/Online Learning/DataRockie Bootcamp/DataRockie Bootcamp 10th/R Programming/data/students.xlsx", sheet = 2)
data <- read_excel("C:/Online Learning/DataRockie Bootcamp/DataRockie Bootcamp 10th/R Programming/data/students.xlsx", sheet = 3)

## binding rows
list_df <- list(econ, business, data)
full_df <- bind_rows(list_df)
```

## **EP07 - Bind Cols (!= JOIN)**

üåµ `bind_cols()` ‡πÑ‡∏°‡πà‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡πà‡∏≤‡∏Å‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô `join` ‡πÄ‡∏û‡∏£‡∏≤‡∏∞ bind columns ‡πÑ‡∏°‡πà‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô‡∏ï‡πâ‡∏≠‡∏á‡πÉ‡∏ä‡πâ `key` ‡πÉ‡∏î‡πÜ ‡πÅ‡∏Ñ‡πà‡πÄ‡∏≠‡∏≤ data frame ‡∏™‡∏≠‡∏á‡∏ï‡∏±‡∏ß‡∏°‡∏≤‡∏ß‡∏≤‡∏á‡∏ï‡πà‡∏≠‡∏Å‡∏±‡∏ô ‡∏ã‡πâ‡∏≤‡∏¢-‡∏Ç‡∏ß‡∏≤

```{r EP07 - Bind Cols (!= JOIN)}
# Bind Cols (!= JOIN)
df1 <- data.frame(
  id = 1:5,
  name = c("John", "Marry", "Anna", "David", "Lisa")
)

df2 <- data.frame(
  id = 1:5,
  city = c(rep("BANGKOK", 3), rep("LONDON", 2)),
  country = c(rep("TH", 3), rep("UK", 2))
)
```

## **EP08 - SQL**

üåµ `sqldf()` ‡πÉ‡∏ä‡πâ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô SQL ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏Å‡∏±‡∏ö dataframe ‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô R

```{EP08 - SQL}
# load library sqldf
library(sqldf)
library(readr)

school <- read_csv("C:/Online Learning/DataRockie Bootcamp/DataRockie Bootcamp 10th/R Programming/data/school/school.csv")

sqldf("select * from school;")

sqldf("select avg(student), sum(student) from school;")

sqldf("select school_id, school_name, country from school;")

sql_query <- "select * from school where country = 'USA';"
usa_school <- sqldf(sql_query)
```

## **EP09 - SQLite**

### **How to read data from SQLite database**

‡πÉ‡∏ô R ‡πÄ‡∏£‡∏≤‡πÉ‡∏ä‡πâ library `RSQLite` ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏Å‡∏±‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÉ‡∏ô sqlite .db file ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏Å‡∏±‡∏ö database ‡∏à‡∏∞‡πÅ‡∏ö‡πà‡∏á‡πÄ‡∏õ‡πá‡∏ô 3 steps ‡∏á‡πà‡∏≤‡∏¢‡πÜ

1.  connect to database i.e. open connection

2.  get data (with SQL)

3.  disconnect from database i.e. close connection

üåµ ‡∏≠‡πà‡∏≤‡∏ô‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á database ‡πÉ‡∏ô R ‡πÑ‡∏î‡πâ‡∏ó‡∏µ‡πà <https://dbi.r-dbi.org/>

```{r EP09 - SQLite}
# load library
library(RSQLite)

# connect to SQLite database (.db file)
# 1. open connection
conn <- dbConnect(SQLite(), "C:/Online Learning/DataRockie Bootcamp/DataRockie Bootcamp 10th/R Programming/data/chinook/chinook.db")

# 2. get data
dbListTables(conn)
dbListFields(conn, "customers")

df <- dbGetQuery(conn, "select * from customers where country = 'USA'")
df2 <- dbGetQuery(conn, "select * from customers where country = 'United Kingdom'")

# 3. close connection
dbDisconnect(conn)
```

## **EP10 - How to save data in R**

### **Save Data in R**

üåµ ‡πÄ‡∏£‡∏≤‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ save data ‡πÉ‡∏ô R ‡πÑ‡∏î‡πâ‡∏™‡∏≠‡∏á‡πÅ‡∏ö‡∏ö ‡πÅ‡∏•‡∏∞‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Å‡∏•‡∏±‡∏ö‡∏°‡∏≤‡πÉ‡∏ä‡πâ‡πÑ‡∏î‡πâ‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÉ‡∏ô‡∏≠‡∏ô‡∏≤‡∏Ñ‡∏ï

-   `save.image()` ‡πÉ‡∏ä‡πâ save objects ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô environment (i.e. workspace) ‡∏Ç‡∏≠‡∏á‡πÄ‡∏£‡∏≤‡πÄ‡∏Ç‡πâ‡∏≤‡πÑ‡∏õ‡∏ó‡∏µ‡πà‡πÑ‡∏ü‡∏•‡πå `.RData`

-   `saveRDS()` ‡πÉ‡∏ä‡πâ save single object ‡πÅ‡∏Ñ‡πà‡πÑ‡∏ü‡∏•‡πå‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏ó‡∏µ‡πà‡πÑ‡∏ü‡∏•‡πå `.rds`

‡∏ñ‡πâ‡∏≤‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÇ‡∏´‡∏•‡∏î .RData ‡πÉ‡∏´‡πâ‡πÉ‡∏ä‡πâ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô `load()` ‡∏´‡∏£‡∏∑‡∏≠‡∏ñ‡πâ‡∏≤‡∏≠‡∏¢‡∏≤‡∏Å‡∏à‡∏∞‡πÇ‡∏´‡∏•‡∏î .rds ‡πÉ‡∏´‡πâ‡πÉ‡∏ä‡πâ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô `readRDS()`

```{r EP10 - How to save data in R}
saveRDS(business, file = "business.rds")
readRDS("business.rds")

business <- readRDS("business.rds")
save.image()
```
