---
title: "Sprint 04"
author: "Sutiwas"
date: "2024-07-09"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

# Sprint 04 - Data Transformation

5 functions ‡∏´‡∏•‡∏±‡∏Å‡∏Ç‡∏≠‡∏á dplyr ‡∏õ‡∏£‡∏∞‡∏Å‡∏≠‡∏ö‡∏î‡πâ‡∏ß‡∏¢

-   `select()`

-   `filter()`

-   `mutate()`

-   `arrange()`

-   `summarise()` ‡∏≠‡∏±‡∏ô‡∏ô‡∏µ‡πâ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡πÑ‡∏î‡πâ‡∏™‡∏≠‡∏á‡πÅ‡∏ö‡∏ö `summarize()`

**Typical workflow** ‡∏Ç‡∏≠‡∏á data analyst ‡∏ó‡∏µ‡πà‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô `R` ‡∏Ñ‡∏∑‡∏≠

-   ‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏≤‡∏Å SQL databases ‡∏´‡∏£‡∏∑‡∏≠ data format ‡∏ï‡πà‡∏≤‡∏á‡πÜ‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà R

-   ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô `dplyr` ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£ data frame ‡∏à‡∏∞ merge, join, union, transform ‡∏ó‡∏≥‡πÑ‡∏î‡πâ‡∏´‡∏°‡∏î‡πÄ‡∏•‡∏¢

-   ‡∏™‡πà‡∏á transformed data ‡πÉ‡∏´‡πâ users ‡∏Ç‡∏≠‡∏á‡πÄ‡∏£‡∏≤ (e.g. `csv`, `excel`, `json`) ‡∏´‡∏£‡∏∑‡∏≠‡∏™‡πà‡∏á‡πÑ‡∏õ‡πÉ‡∏´‡πâ software ‡∏≠‡∏∑‡πà‡∏ô‡πÜ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏ï‡πà‡∏≠ ‡πÄ‡∏ä‡πà‡∏ô Power BI, Tableau, Google Sheets, Data Studio

## **EP02 - Read CSV Files**

`library(readr)`

`read_csv("directory/filename.csv")`

```{r EP02 - Read CSV Files}
## install packages
install.packages("dplyr")

## load packages
library(dplyr)

## read csv file into RStudio
imdb <- read.csv("C:/Online Learning/DataRockie Bootcamp/DataRockie Bootcamp 10th/R Programming/data/imdb/imdb.csv", stringsAsFactors = FALSE)
View(imdb)

## review data structure
glimpse(imdb)

## print head and tail of imdb data
head(imdb, 10)
tail(imdb, 10)
```

## **EP03 - Select Columns**

### **Pipe Operator**

`dplyr` ‡∏°‡∏≤‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏Å‡∏±‡∏ö pipe operator `%>%` ‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô pipeline (‡∏ï‡∏≤‡∏°‡∏ä‡∏∑‡πà‡∏≠‡∏Ç‡∏≠‡∏á‡∏°‡∏±‡∏ô‡πÄ‡∏•‡∏¢) ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á code ‡∏î‡πâ‡∏≤‡∏ô‡∏•‡πà‡∏≤‡∏á‡∏ó‡∏±‡πâ‡∏á‡∏™‡∏≠‡∏á‡πÅ‡∏ö‡∏ö‡πÑ‡∏î‡πâ‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡∏Å‡∏±‡∏ô

JAVASCRIPT

`# load dplyr`

`library(dplyr)`

`# select columns`

`select(mtcars, mpg, wt, hp)`

`mtcars %>% select(mpg, wt, hp)`

üåµ ‡∏Ç‡πâ‡∏≠‡∏î‡∏µ‡∏Ç‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô `%>%` ‡∏Ñ‡∏∑‡∏≠‡πÄ‡∏£‡∏≤‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏Ç‡∏≠‡∏á‡πÄ‡∏£‡∏≤‡πÑ‡∏î‡πâ‡∏´‡∏•‡∏≤‡∏¢ steps ‡πÄ‡∏ä‡πà‡∏ô

`df %>% select() %>% filter() %>% mutate() %>% arrange()`

```{r EP03 - Select Columns}
# select columns
select(imdb, MOVIE_NAME, RATING)
select(imdb, 1, 5)

select(imdb, movie_name = MOVIE_NAME, release_year = YEAR)

## pipe operator %>% call function without select function
## easy to create data pipelines [df %>% select() %>% filter() %>% mutate() %>% arrange()]

head(imdb)
imdb %>% 
  select(movie_name = MOVIE_NAME, release_year = YEAR) %>%
  head()
imdb %>% 
  select(MOVIE_NAME, RATING)
```

## **EP04 - Filter Data Part I**

```{r EP04 - Filter Data Part I}
## filter data
filter(imdb, SCORE >= 9.0)

imdb %>% filter(SCORE >= 9.0)

names(imdb) <- tolower(names(imdb))

imdb %>%
    select(movie_name, year, score) %>%
    filter(score >= 9.0 & year > 2000)

imdb %>%
  select(movie_name, year, score) %>%
  filter(score == 8.8 | score == 8.3 | score == 9.0)

imdb %>%
  select(movie_name, year, score) %>%
  filter(score %in% c(8.3, 8.8, 9.0))
```

## **EP05 - Filter Data Part II**

```{r EP05 - Filter Data Part II}
## filter string columns

# grepl("Drama", imdb$genre) help find "Drama" within genre string columns 
# while ignoring their position or if said movie have other genre type inside their string.

imdb %>%
  select(movie_name, genre, rating) %>%
  filter(rating == "PG-13")

imdb %>%
  select(movie_name, genre, rating) %>%
  filter(grepl("Drama", imdb$genre))

imdb %>%
  select(movie_name) %>%
  filter(grepl("King", imdb$movie_name))

# case sensitive with all lowercase "king"
```
